# 一键证件照生成工具

一个基于Vue 3和AI技术的在线证件照生成工具，支持自动抠图、背景替换和专业打印排版。

## ✨ 功能特性

### 🎯 核心功能
- **智能抠图**：基于ModNet深度学习模型，自动识别人像并精确抠图
- **背景替换**：支持红、蓝、白等常用证件照背景色，以及自定义颜色
- **尺寸规范**：内置多种标准证件照尺寸（一寸、二寸、小一寸等）
- **高质量输出**：保持原图分辨率和宽高比，确保图像质量

### 📱 用户体验
- **响应式设计**：完美适配PC、平板、手机等各种设备
- **拖拽上传**：支持拖拽和点击两种图片上传方式
- **实时预览**：即时查看原图、处理效果和打印排版
- **一键下载**：支持单张证件照和打印排版两种下载方式

### 🖨️ 专业排版
- **6寸相纸排版**：符合照相馆行业标准的打印规格
- **智能排列**：自动计算最优照片排列方式
- **裁切标线**：添加专业裁切辅助线
- **尺寸标注**：清晰标注照片尺寸信息

## 🛠️ 技术栈

- **前端框架**：Vue 3 + Composition API
- **UI组件库**：Element Plus
- **AI模型**：ModNet (ONNX格式)
- **模型推理**：ONNX Runtime Web
- **构建工具**：Vite
- **开发语言**：JavaScript

## 📦 安装与运行

### 环境要求
- Node.js >= 16.0.0
- npm >= 8.0.0

### 安装依赖
```bash
npm install
```

### 开发模式
```bash
npm run dev
```
访问 http://localhost:5174 查看应用

### 生产构建
```bash
npm run build
```

### 预览构建结果
```bash
npm run preview
```

## 🎨 使用说明

### 基本流程
1. **上传图片**：拖拽或点击上传人像照片
2. **选择背景**：从预设颜色中选择或自定义背景色
3. **选择尺寸**：选择所需的证件照规格
4. **生成处理**：点击"生成证件照"按钮
5. **下载保存**：下载单张证件照或打印排版

### 支持的证件照尺寸
- **一寸照片**：25×35mm (295×413像素)
- **小一寸照片**：22×32mm (260×378像素)
- **二寸照片**：35×49mm (413×579像素)
- **小二寸照片**：35×45mm (413×531像素)
- **大一寸照片**：33×48mm (390×567像素)
- **护照照片**：33×48mm (390×567像素)
- **签证照片**：35×45mm (413×531像素)

### 背景颜色选项
- 红色背景：#FF0000
- 蓝色背景：#0000FF
- 白色背景：#FFFFFF
- 浅蓝色背景：#87CEEB
- 自定义颜色：支持颜色选择器

## 📁 项目结构

```
zhengjianzhao/
├── public/
│   ├── modnet/              # AI模型文件
│   │   ├── model.onnx       # ModNet模型
│   │   └── model_fp16.onnx  # 半精度模型
│   └── onnx-wasm/           # ONNX运行时
│       └── ort-wasm.wasm
├── src/
│   ├── App.vue              # 主应用组件
│   └── main.js              # 应用入口
├── index.html               # HTML模板
├── package.json             # 项目配置
├── vite.config.js           # Vite配置
└── README.md                # 项目说明
```

## 🔧 核心功能实现

### AI抠图处理
- 使用ModNet深度学习模型进行人像分割
- 支持ONNX Runtime Web在浏览器中运行
- 自动处理图像预处理和后处理

### 图像处理流程
1. 图像预处理：调整尺寸、归一化
2. 模型推理：生成人像mask
3. 背景替换：应用新背景色
4. 尺寸适配：等比缩放到目标尺寸
5. 排版生成：创建打印排版布局

### 响应式设计
- 移动端优先的设计理念
- 使用CSS媒体查询适配不同屏幕
- Element Plus栅格系统实现布局

## 🌟 特色亮点

- **零后端依赖**：纯前端实现，无需服务器
- **离线可用**：模型本地运行，保护隐私
- **专业品质**：符合证件照制作标准
- **开源免费**：完全开源，可自由使用和修改

## 📝 开发说明

### 添加新的证件照尺寸
在 `App.vue` 中的 `photoSizes` 数组添加新规格：
```javascript
{
  name: '自定义尺寸',
  width: 宽度(mm),
  height: 高度(mm),
  pixelWidth: 像素宽度,
  pixelHeight: 像素高度
}
```

### 自定义背景颜色
在 `backgroundColors` 数组中添加新颜色选项：
```javascript
{
  name: '颜色名称',
  value: '#颜色值'
}
```

## 🤝 贡献指南

欢迎提交Issue和Pull Request来改进这个项目！

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。

## 🙏 致谢

- [ModNet](https://github.com/ZHKKKe/MODNet) - 提供优秀的人像抠图模型
- [ONNX Runtime](https://onnxruntime.ai/) - 提供Web端模型推理支持
- [Element Plus](https://element-plus.org/) - 提供优秀的Vue 3 UI组件库
- [Vue.js](https://vuejs.org/) - 提供强大的前端框架